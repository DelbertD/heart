{extend name="content"/}
{block name="style"}
<style type="text/css">
    table {
        width: 600px;
        font-size: 14px;
        margin-bottom: 20px;
        border-collapse: collapse;
    }
    table tr td,table tr th{
        padding: 8px 10px;

        border: 1px solid #E1E1E1;
    }
    table tr th {
        color: #888888;
        letter-spacing: 3px;
    }
    table tr td input[type="text"] {
        width: 100%;
        height: 30px;
        border: 1px solid #D3D3D3;
        border-radius: 4px;
    }
    table tr td select {
        width: 100%;
        height: 30px;
        border: 1px solid #D3D3D3;
        border-radius: 4px;
    }
    table tr td textarea {
        width: 100%;
        height: 50px;
        border: 1px solid #D3D3D3;
        border-radius: 4px;
    }
    .table_center {
        text-align: center;
    }
</style>
{/block}
{block name="con"}
<div>
    <div>
        <form id="ff" method="post">
            <table cellpadding="5">
                <colgroup>
                    <col width="15%">
                    <col width="85%">
                </colgroup>
                <tr>
                    <td>节点名称:</td>
                    <td><input type="text" name="name" data-options="required:true"></input></td>
                </tr>
                <tr>
                    <td>菜单名称:</td>
                    <td><input  type="text" name="title" data-options="required:true"></input></td>
                </tr>
                <tr>
                    <td>节点描述:</td>
                    <td><textarea name="remark"></textarea></td>
                </tr>
                <tr>
                    <td>节点级别:</td>
                    <td>
                        <select id="level"  name="level">
                            <option value=""></option>
                            <option value="1">模块级别</option>
                            <option value="2">操作级别</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>父节点:</td>
                    <td>
                        <select id="pid" name="pid">

                        </select>
                    </td>
                </tr>
                <tr>
                    <td>是否显示:</td>
                    <td>
                        <input type="radio" name="is_show" value="1" checked>显示
                        <input type="radio" name="is_show" value="0">隐藏
                    </td>
                </tr>
                <tr>
                    <td colspan="2" class="table_center">
                        <a href="javascript:void(0)" class="easyui-linkbutton" onclick="submitForm()">添加</a>
                        <a href="javascript:void(0)" class="easyui-linkbutton" onclick="cancel()">取消</a>
                    </td>
                </tr>
            </table>
        </form>
    </div>
</div>
{/block}
{block name="script"}
<script>
    $(document).ready(function(){
        $('#level').change(function(){
            var level = $(this).children('option:selected').val();
            var url = "{:url('heart/Node/getParent')}";
            $.post(url,{level:level},function(res){
                $('#pid').empty();
                $('#pid').append(res);
            });
        });

    });
    function submitForm(){
        $('#ff').form('submit');
    }
</script>
{/block}